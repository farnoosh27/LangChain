

| **Chain Type**   | **Description**                                                                                                          | **Pros**                                                                       | **Cons**                                                                                                                          |
|------------------|--------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| **Stuffing**     | Incorporates all pertinent data into the model's prompt context. Enabled by LangChain's StuffDocumentsChain.             | - Single call to LLM.<br> - LLM accesses all data at once.                     | - Not viable for extensive or multiple docs due to context length limits.                                                    |
| **Map Reduce**   | Initiates a prompt for each data segment, then merges the outcomes. Utilizes LangChain's MapReduceDocumentsChain.        | - Adaptable to larger/more documents.<br> - Concurrently executable calls.     | - Increased LLM interactions.<br> - Potential loss of info during final merge.                                              |
| **Refine**       | Begins with a prompt on the primary data piece and refines output using subsequent segments.                             | - Enhances context relevance.<br> - Might preserve more details.               | - More LLM engagements.<br> - Sequential call nature.<br> - Document sequence might influence outcome.                      |
| **Map-Rerank**   | Each data segment gets a prompt and a confidence score, which is then ranked. Summarisation implementation not present.  | - Benefits akin to MapReduce.<br> - Less calls compared to MapReduce.          | - Lacks cross-document info fusion.<br> - Optimally suited when expecting a singular clear answer from a document.         |

A [link](https://weaviate.io/blog/combining-langchain-and-weaviate) containing interesting illustrations is provided here. It's important to establish a good understanding before applying each of them.
